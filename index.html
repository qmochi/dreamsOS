<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>dreams.OS v20.2.1</title>
    <meta name="author" content="Corbin Quan">
    <meta name="description" content="Virtual, interactive portfolio/business card/mood board.">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="style.css">
</head>

<iframe src="assets/sounds/silence.mp3" allow="autoplay" style="display: none"></iframe>

<audio id="startup" preload="auto" src="assets/sounds/Windows_95_Startup.mp3" type="audio/mp3"></audio>
<audio id="been" preload="auto" src="assets/sounds/Been Thinking About It.mp3" type="audio/mp3"></audio>
<audio id="dolphins" preload="auto" src="assets/sounds/dolphins.mp3" type="audio/mp3"></audio>
<audio id="ecco" preload="auto" src="assets/sounds/ECCOと悪寒ダイビング.mp3" type="audio/mp3"></audio>
<audio id="girl" preload="auto" src="assets/sounds/Girl.mp3" type="audio/mp3"></audio>
<audio id="plastic" preload="auto" src="assets/sounds/Plastic Love.mp3" type="audio/mp3"></audio>
<audio id="toon" preload="auto" src="assets/sounds/Toon World.mp3" type="audio/mp3"></audio>

<body onload="splash()">
    <div id="load">
        <img src="assets/sprites/Windows logo-2.png">
        <h3>loading dreams.OS v20.2.1...</h3>
    </div>

    <div id="wallpaper" onmousedown="unhighlight()"></div>

    <div id="desktop">
        <a class="icon" id="myComputer" onmousedown="highlight('myComputer')" ondblclick="launch('window1'); front('window1'); launch('taskbar1'); indent('taskbar1')">
            <img src="assets/sprites/My Computer-1.png">
            <p>My Computer</p>
        </a>

        <div class="icon" id="folder" onmousedown="highlight('folder')" ondblclick="launch('window2'); front('window2'); launch('taskbar2'); indent('taskbar2')">
            <img src="assets/sprites/Folder-1.png">
            <p>stuff</p>
        </div>

        <div class="window" id="window1" onclick="front('window1'); indent('taskbar1')">
            <p>opened my computer</p>
        </div>

        <div class="window" id="window2" onclick="front('window2'); indent('taskbar2')">
            <p>opened folder</p>
        </div>
    </div>

    <div id="taskbar">
        <div class="button" id="start" onclick="indent('start'); show('startMenu')">
            <img src="assets/sprites/Windows logo-2.png">
            <p>Start</p>
        </div>

        <div class="dropdown" id="startMenu">
            <p id="menu1"><img src="assets/sprites/Program-1.png">Item 1</p>
            <p><img src="assets/sprites/Folder-1.png">Item 2</p>
            <p><img src="assets/sprites/My Computer-1.png">Item 3</p>
            <p><img src="assets/sprites/floral-shoppe.png">Item 4</p>
            <p><img src="assets/sprites/floral-shoppe_mono.png">Item 5</p>
            <p><img src="assets/sprites/Folder-1.png">Item 6</p>
            <hr style="width: 99%;height: 1px;margin: 1% 0 1%;">
            <a href="index.html"><img src="assets/sprites/power.png">Reboot</a>
        </div>

        <div class="button" id="taskbar1" onclick="indent('taskbar1'); front('window1'); show('window1')">
            <p>My Computer</p>
        </div>

        <div class="button" id="taskbar2" onclick="indent('taskbar2'); front('window2'); show('window2')">
            <p>stuff</p>
        </div>

        <div class="panel" onload="showTime()">
            <p id="clock">00:00 XX</p>
        </div>
    </div>

    <script src="scripts.js" type="text/javascript"></script>

    <script src="loopify.js" type="text/javascript"></script>

    <script>
        // Supply an audio filename and a callback
        loopify("assets/sounds/toon world.mp3", bgm);

        function bgm(err, loop) {
            // Play music
            document.getElementById("menu1").addEventListener("click", function() {
                loop.play();
            });

            // Stop music
            document.getElementById("menu1").addEventListener("dblclick", function() {
                loop.stop();
            });

            // If something went wrong, `err` is supplied
            if (err) {
                console.log(err);
            }
        }
    </script>

</body>

</html>